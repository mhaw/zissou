{% macro tag_summary(manual_tags=[], auto_tags=[]) -%}
  {% set manual = manual_tags or (tags if tags is defined else []) %}
  {% set machine = auto_tags or [] %}
  {% set has_manual = manual | length > 0 %}
  {% set has_auto = machine | length > 0 %}

  {% if has_manual %}
    {% for tag in manual %}
      <span class="inline-flex items-center gap-1 rounded-full border px-3 py-1 text-sm font-semibold {{ tag | tag_color_class }}">
          <svg class="h-3.5 w-3.5 opacity-60" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M5 3h6l7 7-7 7-6-6V3z" />
          </svg>
          {{ tag }}
      </span>
    {% endfor %}
  {% endif %}

  {% if has_auto %}
    {% for tag in machine %}
      <span class="inline-flex items-center gap-1 rounded-full border border-slate-300 bg-slate-100 px-3 py-1 text-sm font-medium text-slate-600" data-auto-tag>
          <svg class="h-3.5 w-3.5 opacity-50" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M5 3h6l7 7-7 7-6-6V3z" />
          </svg>
          {{ tag }}
      </span>
    {% endfor %}
  {% endif %}

  {% if not has_manual and not has_auto %}
    <span class="text-sm text-slate-500">No tags assigned yet.</span>
  {% endif %}
{%- endmacro %}
